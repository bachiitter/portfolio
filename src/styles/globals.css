@import "tailwindcss";
@import "orphos/theme.css";

@theme {
  --font-serif: "Redaction 20", ui-serif, Georgia, Cambria, "Times New Roman", Times, serif;
  --font-sans:
    "Inter Variable", ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji",
    "Segoe UI Symbol", "Noto Color Emoji";
  --font-mono:
    "IBM Plex Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono",
    "Courier New", monospace;
}

@layer base {
  * {
    animation-fill-mode: forwards;
    -webkit-animation-fill-mode: forwards;
  }

  body {
    @apply min-w-[360px] w-full bg-background text-[15px] text-foreground-subtle;
    font-feature-settings:
      "liga" 1,
      "calt" 1; /* fix for Chrome */
    line-height: calc(15px * 1.7);
  }

  h1,
  h2,
  h3,
  h4,
  h5 {
    @apply font-serif text-foreground;
  }

  p {
    @apply leading-7;
  }

  mark {
    @apply inline bg-warning-surface text-warning-surface-foreground rounded [box-decoration-break:clone];
  }

  kbd {
    @apply inline w-fit rounded-sm bg-background-element px-1.5 py-px text-foreground/75 text-xs [box-decoration-break:clone] dark:bg-background-element-active dark:text-foreground-subtle/85;
  }

  :not(pre) > code {
    @apply w-fit break-words rounded-sm bg-background-element px-[0.3rem] py-[0.075rem] text-foreground-subtle text-sm [box-decoration-break:clone];
  }

  :not(pre) > code::before {
    content: "`";
  }

  :not(pre) > code::after {
    content: "`";
  }

  article h2 {
    @apply text-2xl font-bold leading-tight mt-8  text-balance tracking-tight;
  }

  article h3 {
    @apply mt-8 text-xl leading-snug text-balance tracking-tight font-semibold;
  }

  article h4 {
    @apply mt-8 text-lg leading-snug text-balance tracking-tight font-semibold;
  }

  article p:not(:first-child) {
    @apply mt-6;
  }

  article li {
    @apply break-words;
  }

  article a {
    @apply text-base font-semibold transition-colors focus-visible:ring-2 focus-visible:ring-offset-background focus-visible:ring-offset-2 focus-visible:ring-focus-ring focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0  hover:underline rounded-md bg-transparent text-primary underline decoration-border-element underline-offset-[2.5px] hover:decoration-primary;
  }

  pre {
    @apply relative z-[1] bg-background-subtle! overflow-x-auto whitespace-pre py-4 px-[2]! text-sm leading-7 mt-6 rounded-md border border-border-element bg-clip-padding! overflow-auto!;
  }

  pre code {
    @apply block w-fit px-[24px] bg-transparent min-w-full! leading-6;
  }

  pre code span:last-of-type:empty {
    @apply hidden;
  }

  pre code span.highlighted {
    @apply inline-block bg-background-element text-foreground -mx-[24px] px-[24px];
    width: calc(100% + 48px);
  }

  pre code span.error {
    @apply inline-block bg-danger-surface;
  }

  pre code span.warning {
    @apply inline-block bg-warning-surface;
  }

  pre code span.diff {
    @apply inline-block -mx-[24px] px-[24px];
    width: calc(100% + 48px);
  }

  pre code span.add {
    @apply inline-block bg-success-surface;
  }

  pre code span.remove {
    @apply inline-block bg-danger-surface;
  }

  pre code span.line span.highlighted-word {
    @apply inset-ring-1 inset-ring-border-subtle rounded px-1;
  }

  #footnote-label {
    @apply sr-only mt-12;
  }
}
